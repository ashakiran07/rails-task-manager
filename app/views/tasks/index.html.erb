<div class="container mt-5">
  <h1>My tasks</h1>

  <ul id="tasks">
    <% @tasks.each do |task| %>
      <li>
        <%= form_with model: task, url: task_path(task), method: :patch do |form| %>
          <%= form.check_box :completed, { class: 'task-checkbox', data: { id: task.id }, onclick: "this.form.submit();" } %>
          <%= form.label task.title %>
          <%= link_to task_path(task), data: {turbo_method: :delete, turbo_confirm: "Delete #{task.title}?"} do %>
            <i class="fa-regular fa-trash-can"></i>
          <% end %>
        <% end %>
      </li>
    <% end %>
  </ul>
  <hr>

  <%= link_to new_task_path do %>
    <i class="fa-solid fa-plus"></i> Add a new task
  <% end %>
</div>
